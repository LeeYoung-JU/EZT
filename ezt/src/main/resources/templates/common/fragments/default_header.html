<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="headerFragment">
  <div class="container-fluid">
    <div class="row align-items-center">
      <div class="site-logo col-6"><a href="/main">JobBoard</a></div>

      <nav class="col-5 site-navigation">
        <ul class="site-menu js-clone-nav d-none d-xl-block ml-0 pl-0">
          <li><a th:href="@{/request/list}" class="nav-link">의뢰 목록</a></li>
          <li><a href="about.html">작업자 찾기</a></li>
          <li><a th:href="@{/review/list}">후기 목록</a></li>
          <li><a th:href="@{/team/requestList}">팀 찾기</a></li>
          <li class="d-lg-none"><a href="/signUp/joinUser">회원가입</a></li>
          <li class="d-lg-none"><a href="/signUp/joinWorker">작업자가입</a></li>
          <li class="d-lg-none"><a href="/login">로그인</a></li>
        </ul>
      </nav>

      <div class="right-cta-menu text-right d-flex aligin-items-center col-6">
        <div class="ml-auto">
          <!-- <div sec:authorize="hasRole('ROLE_ANONYMOUS')"> -->
          <div sec:authorize="isAnonymous()">
            <a
              href="/signUp/joinUser"
              class="btn btn-outline-white border-width-2 d-none d-lg-inline-block"
              >회원가입</a
            >
            <a
              href="/signUp/joinWorker"
              class="btn btn-outline-white border-width-2 d-none d-lg-inline-block"
              >작업자가입</a
            >
            <a
              id="login"
              href="/login"
              class="btn btn-primary border-width-2 d-none d-lg-inline-block"
            >
              <span class="mr-2 icon-lock_outline"></span>로그인</a
            >
          </div>
          <th:block sec:authorize="!isAnonymous()">
            <span class="text-white"
              >[[${#authentication.principal.username}]]님&nbsp;&nbsp;
            </span>
          </th:block>
          <th:block sec:authorize="hasRole('ROLE_USER')" style="color: write">
            <a
              id="mypage"
              href="/user/info"
              class="btn btn-primary border-width-2 d-none d-lg-inline-block"
              >마이페이지</a
            >
          </th:block>

          <th:block sec:authorize="hasRole('ROLE_WORKER')" style="color: write">
            <a
              id="mypage"
              href="/worker/info"
              class="btn btn-primary border-width-2 d-none d-lg-inline-block"
              >마이페이지</a
            >
          </th:block>

          <th:block sec:authorize="hasRole('ROLE_ADMIN')" style="color: write">
            <a
              id="mypage"
              href="http://localhost:3000/"
              class="btn btn-primary border-width-2 d-none d-lg-inline-block"
              >관리자 페이지</a
            >
          </th:block>
          <th:block sec:authorize="!isAnonymous()">
            <a
              id="logout"
              class="btn btn-primary border-width-2 d-none d-lg-inline-block"
              >로그아웃</a
            >
          </th:block>
        </div>
        <a
          href="#"
          class="site-menu-toggle js-menu-toggle d-inline-block d-xl-none mt-lg-2 ml-3"
          ><span class="icon-menu h3 m-0 p-0 mt-2"></span
        ></a>
      </div>
    </div>
  </div>
  <script th:inline="javascript">
    $("div > #logout").on("click", function (e) {
      Swal.fire({
        text: "로그아웃 되었습니다.",
        icon: "success",
        showConfirmButton: false,
      });
      setTimeout(() => (location.href = "/logout"), 800);
    });
  </script>
</html>
