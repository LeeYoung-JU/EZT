<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/worker_mypage_layout}"
	layout:fragment="Content">
<head>
<meta charset="UTF-8">
<title>작업자 마이페이지</title>
<style>
</style>
</head>
<body>
	<h4>비밀번호 변경</h4>
	<form action="pwUpdate" method="POST" onsubmit="return validateForm()">
		<div>
			<label>현재 비밀번호</label>
			<input class="form-control" type="password" name="currentPw" id="usersPw" required>
		</div>
		<div>
			<label>새 비밀번호</label>
			<input class="form-control" type="password" name="usersNewPw" id="usersNewPw" required>
		</div>
		<div>
			<label>새 비밀번호 확인</label>
			<input class="form-control" type="password" id="usersNewPwChk" required>
			<span id="newPwErr" class="error"></span>
		</div>
		<button type="submit" id="info-update-btn" class="btn btn-primary border-width-2 d-lg-inline-block" style="float:right;">변경하기</button>		
	</form>
<script th:inline="javascript">
	function validateForm() {
	    var newPassword = document.getElementById("usersNewPw").value;
	    var confirmPassword = document.getElementById("usersNewPwChk").value;
	    var errorSpan = document.getElementById("newPwErr");

	    if (newPassword !== confirmPassword) {
	        errorSpan.textContent = "새 비밀번호가 일치하지 않습니다.";
	        return false;
	    }

	    errorSpan.textContent = "";
	    return true;
	}
</script>
</body>
</html>