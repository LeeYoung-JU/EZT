<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>후기 작성</title>
    <link rel="stylesheet" href="/css/rvw/reviewInsert.css">
  </head>
  <body>
    <!-- 모달 버튼 -->
    <button id="modalBtn">후기 쓰기</button>

    <!-- 모달 창 -->
    <div id="myModal" class="modal">
     <div class="modal-content">
        <span class="close" id="closeBtn">&times;</span>
        <form name="rvInsertForm" th:object="${review}">
		<div class="row">
			<img class="workerProfile" src="/images/rvw/worker_common_profile.jpg">

	       	<table class="table">
	       		<td style="display:none"><input th:field="*{requestNo}"></td>
	       		<td style="display:none"><input sec:authentication="principal.userNo" th:field="*{writer}"></td>
				<tr>
					<th>작업자명</th>
					<td>ddd</td>
				</tr>
				<!--/*  <tr>
					<th>지역</th>
					<td>[[${request.RegionCode}]]</td>
				</tr>
				<tr>
					<th>작업 카테고리</th>
					<td>[[${request.categoryCode}]]</td>
				</tr>
				<tr>
					<th>면적</th>
					<td>[[${request.cttPlaceArea}]]</td>
				</tr>
				<tr>
					<th>작업내용</th>
					<td>[[${request.content}]]</td>
				</tr>*/-->
				<tr>
					<th>평점</th>
					<td>
						<fieldset class="reStar">
							<input type="radio" th:field="*{star}" value="5" id="rate1"><label
								for="rate1">★</label>
							<input type="radio" th:field="*{star}"  value="4" id="rate2"><label
								for="rate2">★</label>
							<input type="radio" th:field="*{star}" value="3" id="rate3"><label
								for="rate3">★</label>
							<input type="radio" th:field="*{star}" value="2" id="rate4"><label
								for="rate4">★</label>
							<input type="radio" th:field="*{star}" value="1" id="rate5"><label
								for="rate5">★</label>
						</fieldset>
					<td>
				</tr>
				<tr>
					<th>내용</th>
					<td>
						<textarea th:text="${review.content}" name="content" placeholder="후기 내용을 입력하세요"></textarea>
					</td>
				</tr>
			</table>
				<input style="display:none" th:field="${review.reviewDivision}" value="F" >
				<button style="text-align:center">등록</button>
        </form>
	 </div>
    </div>

    <script>
      // HTML 문서의 로딩이 완료되었을 때, 해당 함수를 실행
      document.addEventListener("DOMContentLoaded", function () {
        // elements
        var modalBtn = document.getElementById("modalBtn");
        var modal = document.getElementById("myModal");
        var closeBtn = document.getElementById("closeBtn");

        // functions
        function toggleModal() {
          modal.classList.toggle("show");
        }

        // events
        modalBtn.addEventListener("click", toggleModal);
        closeBtn.addEventListener("click", toggleModal);

        window.addEventListener("click", function (event) {
          // 모달의 검은색 배경 부분이 클릭된 경우 닫히도록 하는 코드
          if (event.target === modal) {
            toggleModal();
          }
        });
      });
    </script>
  </body>
</html>