<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.app.rvw.mapper.WorkReplyMapper">
<!-- 댓글 조회 -->
<select id="replyInfo" resultType="WorkerReplyVO">
	SELECT  worker_reply_no
			,review_no
			,writer
			,reply
			,write_dt
	FROM worker_reply
	WHERE review_no = #{reviewNo}
</select>

<!-- 댓글 등록 -->
<insert id="insertReply" parameterType="WorkerReplyVO">
	<selectKey	keyProperty="workerReplyNo"
				resultType="Integer"
				order="BEFORE">
		SELECT seq_workerReply.NEXTVAL
		FROM dual
	</selectKey>
	
	INSERT worker_reply
	(
		 worker_reply_no
		,review_no
		,writer
		,reply
		,write_dt
	)
	
	VALUES
	(
		#{workerReplyNo}
		,#{reviewNo}
		,#{writer}
		,#{reply}
		,#{writeDt}
	)
</insert>

<!-- 댓글 수정 -->
<update id="updateReply" parameterType="WorkerReplyVO">
	UPDATE worker_reply
	
	SET reply = #{reply}
	
	WHERE worker_reply_no = #{workerReplyNo}
</update>

<!-- 댓글 삭제 -->
<delete id="deleteReply" parameterType="int">
	DELETE FROM worker_reply
	WHERE worker_reply_no = #{WorkerReplyNo}
</delete>
</mapper>