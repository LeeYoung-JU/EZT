<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yedam.app.usr.mapper.UserMapper">
	<select id="selectUserInfo" resultType="UserVO">
		SELECT users_no
				, users_id
				, users_pw
				, users_email
				, users_birth
				, users_rnn
				, users_gender
				, users_name
				, users_phone
				, users_nick
				, users_role
				, users_join_dt
				, users_state_change_dt
				, users_state
				, file_id
		FROM users
		WHERE users_id = #{id}
	</select>
	
	<select id="idChk" resultType="int">
		SELECT COUNT(*)
		FROM users
		WHERE users_id = #{usersId}
	</select>
	
	<select id="emailChk" resultType="int">
		SELECT COUNT(*)
		FROM users
		WHERE users_email = #{usersEmail}
	</select>
	
	<select id="nickChk" resultType="int">
		SELECT COUNT(*)
		FROM users
		WHERE users_nick = #{usersNick}
	</select>
	
	<insert id="saveUser" parameterType="com.yedam.app.usr.service.UserVO">
		INSERT INTO users
		(users_no, users_role, users_id, users_pw, users_name, users_phone, users_nick, users_email)
		VALUES(SEQ_USERS.NEXTVAL, #{usersRole}, #{usersId}, #{usersPw}, #{usersName}, #{usersPhone}, #{usersNick}, #{usersEmail})
	</insert>
</mapper>